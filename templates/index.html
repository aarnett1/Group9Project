<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Group 9 Events Home Page</title>
        <!-- styles -->
        <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    </head>
	
    <body>
		<nav> 
		    <a href="{{ url_for('index') }}">Events</a> ||
            <a href="{{ url_for('new') }}">Create Event</a> ||
            <a href="{{ url_for('profile') }}">My Account</a> ||
            <a href="{{url_for('logout')}}">Logout</a>
		</nav>

        <div class="body">
            <h1>Events Home Page</h1>

  <h2>
    Search Events
    <span class="htmx-indicator">
    </span>
  </h2>
  
  <input class="form-control" type="text" name="search" 
  placeholder="Search..." 

  hx-post="/search/" hx-trigger="keyup changed delay:500ms" 
  hx-target="#search-results" hx-indicator=".htmx-indicator">

    <tbody id="search-results">
      <!-- filled with search results when ready -->
    </tbody>

              <!--  <form>
                    <label>Search: </label>
                    <input type="text" name="search"/>
                </form><br> -->

                <table>
                    <tr>
                        <th>Title</th>
                        <th>Date</th>
                        <th>Description</th>
                    </tr>
                    {% for event in index %}
                    <tr>
                        <td><a href="{{ url_for('event', event_id=event.id) }}">{{ event.title }}</a></td>
                        <td>{{ event.date }}</td>
                        <td>{{ event.text }}</td>
                    </tr>
                    {% endfor %}
                </table>

            <br><br>
            <h3>My Events</h3>
                <table>
                    <tr>
                        <th>Title</th>
                        <th>Date</th>
                        <th>Description</th>
                    </tr>
                    {% for event in my_events %}
                    <tr>
                        <td><a href="{{ url_for('event', event_id=event.id) }}">{{ event.title }}</a></td>
                        <td>{{ event.date }}</td>
                        <td>{{ event.text }}</td>
                        <td>
                            <form action="{{ url_for('edit', event_id=event.id) }}" method="get">
                                <input type="submit" value="Edit">
                            </form>
                        </td>
                        <td>
                            <form action="{{ url_for('delete_event', event_id=event.id) }}" method="post">
                                <input type="submit" value="Delete">
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </table>

       <!-- <h2>Your Events</h2>
        <table>
            <tr>
                <th>Title</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
            {% for note in notes %}
            <tr>
                <td><a href="{{ url_for('get_event', event_id=note.id) }}">{{ event.title }}</a></td>
                <td>{{ event.date }}</td>
		<td><a href="{{ url_for('edit', event_id=event.id) }}">Edit</a></td>
		<td>
		   <form action="{{ url_for('delete_event', event_id=event.id) }}" method="post">
		       <input type="submit" value="Delete">
		   </form>
            </tr>
            {% endfor %}
        </table>
        <h3>RSVP Events</h3>
        {% for rsvp in rsvp %}
            <tr>
                <td><a href="{{ url_for('get_event', event_id=event.id) }}">{{ event.title }}</a></td>
                <td>{{ event.date }}</td>
                </td>
            </tr>
            {% endfor %} -->

        <!--<h2>RSVP Events</h2>
            <table>
                <tr>
                    <th>Title</th>
                    <th>Date</th>
                    <th>Description</th>
                </tr>
            </table> -->
        </div>
    </body>
</html>